diff --cc rainbowfluff.lua
index d918dad,77b11ce..0000000
--- a/rainbowfluff.lua
+++ b/rainbowfluff.lua
@@@ -19,34 -19,24 +19,36 @@@ function rainbowFluff(love,level
  
  	ctx.love=love
  	ctx.mapproperties={}
 -	ctx.body   	= love.graphics.newImage(db.name( "body"   	))
 -	ctx.ear    	= love.graphics.newImage(db.name( "ear"    	))
 -	ctx.face   	= love.graphics.newImage(db.name( "face"   	))
 -	ctx.logo   	= love.graphics.newImage(db.name( "logo"   	))
 -	ctx.cloud  	= love.graphics.newImage(db.name( "cloud"  	))
 -	ctx.selfmag	= love.graphics.newImage(db.name( "selfmag"	))
++
 +	ctx.body 	= love.graphics.newImage(db.name( "body" 	))
 +	ctx.ear  	= love.graphics.newImage(db.name( "ear"  	))
 +	ctx.face 	= love.graphics.newImage(db.name( "face" 	))
 +	ctx.logo 	= love.graphics.newImage(db.name( "logo" 	))
 +	ctx.cloud	= love.graphics.newImage(db.name( "cloud"	))
 +	ctx.map1    = ctx.map --change this somehow according to what level I've loaded
 +
 +
 +	ctx.flufft = Flufft:new()
 +	ctx.planet = Planet:new()
 +	
  	
- 	ctx.creatures = {}
- 	ctx.creatures[1] = Creature:new(6,6,ctx,0.1,"Red",-0.1,5,0.5,1,1,1,1)
- 	ctx.creatures[2] = Creature:new(6,8,ctx,0.14,"Red",-0.1,5,0.5,1,1,1,1)
- 	ctx.creatures[3] = Creature:new(6,8,ctx,0.16,"Red",-0.1,5,0.5,1,1,1,1)
- 	ctx.creatures[4] = Creature:new(6,8,ctx,0.12,"Red",-0.1,5,0.5,1,1,1,1)
- 	ctx.creatures[5] = Creature:new(6,8,ctx,0.145,"Red",-0.1,5,0.5,1,1,1,1)
- 	ctx.creatures[6] = Creature:new(6,8,ctx,0.15,"Red",-0.1,5,0.5,1,1,1,1)
- 	
- 	
+ 	ctx.flufft = Flufft:new()
+ 	ctx.planet = Planet:new()
+ 	ctx.camera= Camera:new(ctx)
+ 	ctx.creatures = {}                                                 
+ 	ctx.creatures[1] = Creature:new(11,11,ctx,0.2,"Red",-0.1,1,1,1,1,1,0)
+ 	ctx.creatures[2] = Creature:new(16,16,ctx,0.2,"Red",-0.1,1,1,1,1,1,0) 
+ 	ctx.creatures[3] = Creature:new(16,12,ctx,0.2,"Yellow",-0.1,1,1,1,1,1,0)
+ 	ctx.creatures[4] = Creature:new(16,13,ctx,0.2,"Yellow",-0.1,1,1,1,1,1,0)
+ 	ctx.creatures[5] = Creature:new(16,14,ctx,0.2,"Purple",-0.1,1,1,1,1,1,0)
+ 	ctx.creatures[6] = Creature:new(16,11,ctx,0.2,"Purple",-0.1,1,1,1,1,1,0)
 -	                                                             
 +
 +	ctx.gates = {}
 +	ctx.gates[1] = Gate:new(true, 6,6,ctx)
 +	ctx.gates[2] = Gate:new(true, 16,6,ctx)
 +	
 +	ctx.tractor = Tractor:new(12,16,ctx)
 +	
  	use_music=true
  	local auBGM
  
@@@ -61,10 -51,8 +63,10 @@@
  
  		local space = love.keyboard.isDown(" ")
  		ctx=self
- 		global.camera:newState(dt,global.camera,ctx)
 +
- 		ctx.mouse={x=love.mouse.getX()/global.camera.zoom, y=love.mouse.getY()/global.camera.zoom}
- 		--ctx.flufft = ctx.flufft:newState(dt,ctx.flufft,{mouse=ctx.mouse,tiles=layer.tileData,map=map, key=space, mapproperties=ctx.mapproperties })
+ 		ctx.mouse={x=love.mouse.getX()/ctx.camera.zoom, y=love.mouse.getY()/ctx.camera.zoom}
+ 		ctx.flufft = ctx.flufft:newState(dt,ctx.flufft,{mouse=ctx.mouse,tiles=layer.tileData,map=map, key=space, mapproperties=ctx.mapproperties })
++
  		--print("object")
  		--print(DumpObject(ctx.mapproperties))
  		ctx.creatures[1]:update(dt, ctx.creatures[1], {mouse=ctx.mouse,tiles=layer.tileData,map=map, mapproperties=ctx.mapproperties })
@@@ -131,31 -66,18 +133,30 @@@
  	function ctx:draw ()
  		ctx=self
  		
 -		--map:setDrawRange(0, 0, ctx.camera.width, ctx.camera.height)
 -		--map.drawList={map.drawList[1]}
 -		--map:draw()
 -		drawlist({ {type="map", ref=map}})
 -		drawlist( ctx.creatures[1]:newDrawable()) 
 -		drawlist( ctx.creatures[2]:newDrawable()) 
 -		drawlist( ctx.creatures[3]:newDrawable()) 
 -		drawlist( ctx.creatures[4]:newDrawable()) 
 -		drawlist( ctx.creatures[5]:newDrawable()) 
 -		drawlist( ctx.creatures[6]:newDrawable()) 
 -
 -		drawlist(  ctx.flufft:newDrawable())
 +
- 
 +		drawlist( {{ 
 +		 type="map",
 +		 name="map1", 
 +		 character="game",
 +		 x=0,
 +		 y=0,     
 +		 a=0,
 +		 sx=1,
 +		 sy=1,
 +		 cx=0,
 +		 cy=0
 +	
 +		} })
 +
 +
 +		drawlist( ctx.creatures[1]:newDrawable() )
 +		drawlist( ctx.creatures[2]:newDrawable() )
 +		drawlist( ctx.creatures[3]:newDrawable() )
 +		drawlist( ctx.creatures[4]:newDrawable() )
 +		drawlist( ctx.creatures[5]:newDrawable() )
 +		drawlist( ctx.creatures[6]:newDrawable() )
 +
 +		drawlist( ctx.tractor:newDrawable() )
  
  
  	end
